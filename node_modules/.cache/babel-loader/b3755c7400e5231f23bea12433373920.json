{"ast":null,"code":"import _regeneratorRuntime from\"/Users/alexkaramanov/Desktop/printshop/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/alexkaramanov/Desktop/printshop/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"/Users/alexkaramanov/Desktop/printshop/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/alexkaramanov/Desktop/printshop/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useReducer,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{AuthData}from\"../../auth/AuthWrapper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Login=function Login(){var navigate=useNavigate();var _AuthData=AuthData(),login=_AuthData.login;var _useReducer=useReducer(function(formData,newItem){return _objectSpread(_objectSpread({},formData),newItem);},{userName:\"\",password:\"\"}),_useReducer2=_slicedToArray(_useReducer,2),formData=_useReducer2[0],setFormData=_useReducer2[1];var _useState=useState(null),_useState2=_slicedToArray(_useState,2),errorMessage=_useState2[0],setErrorMessage=_useState2[1];var doLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return login(formData.userName,formData.password);case 3:navigate(\"/account\");_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);setErrorMessage(_context.t0);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,6]]);}));return function doLogin(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"page\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login page\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputs\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"input\",children:/*#__PURE__*/_jsx(\"input\",{value:formData.userName,onChange:function onChange(e){return setFormData({userName:e.target.value});},type:\"text\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"input\",children:/*#__PURE__*/_jsx(\"input\",{value:formData.password,onChange:function onChange(e){return setFormData({password:e.target.value});},type:\"password\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"button\",children:/*#__PURE__*/_jsx(\"button\",{onClick:doLogin,children:\"Log in\"})}),errorMessage?/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:errorMessage}):null]})]});};","map":{"version":3,"names":["useReducer","useState","useNavigate","AuthData","Login","navigate","login","formData","newItem","userName","password","setFormData","errorMessage","setErrorMessage","doLogin","e","target","value"],"sources":["/Users/alexkaramanov/Desktop/printshop/src/components/pages/Login.js"],"sourcesContent":["import { useReducer, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { AuthData } from \"../../auth/AuthWrapper\"\n\nexport const Login = () => {\n\n     const navigate = useNavigate();\n     const { login } = AuthData();\n     const [ formData, setFormData ] = useReducer((formData, newItem) => { return ( {...formData, ...newItem} )}, {userName: \"\", password: \"\"})\n     const [ errorMessage, setErrorMessage ] = useState(null)\n     \n     const doLogin = async () => {\n\n          try {\n               \n               await login(formData.userName, formData.password)\n               navigate(\"/account\")\n\n          } catch (error) {\n\n               setErrorMessage(error)\n               \n          }\n          \n     }\n\n     return (\n          <div className=\"page\">\n               <h2>Login page</h2>\n               <div className=\"inputs\">\n                    <div className=\"input\">\n                         <input value={formData.userName} onChange={(e) => setFormData({userName: e.target.value}) } type=\"text\"/>\n                    </div>\n                    <div className=\"input\">\n                         <input value={formData.password} onChange={(e) => setFormData({password: e.target.value}) } type=\"password\"/>\n                    </div>\n                    <div className=\"button\">\n                         <button onClick={doLogin}>Log in</button>\n                    </div>\n                    {errorMessage ?\n                    <div className=\"error\">{errorMessage}</div>\n                    : null }\n               </div>\n          </div>\n     )\n}"],"mappings":"+fAAA,OAASA,UAAT,CAAqBC,QAArB,KAAqC,OAArC,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,QAAT,KAAyB,wBAAzB,C,wFAEA,MAAO,IAAMC,MAAK,CAAG,QAARA,MAAQ,EAAM,CAEtB,GAAMC,SAAQ,CAAGH,WAAW,EAA5B,CACA,cAAkBC,QAAQ,EAA1B,CAAQG,KAAR,WAAQA,KAAR,CACA,gBAAkCN,UAAU,CAAC,SAACO,QAAD,CAAWC,OAAX,CAAuB,CAAE,sCAAaD,QAAb,EAA0BC,OAA1B,EAAqC,CAA/D,CAAiE,CAACC,QAAQ,CAAE,EAAX,CAAeC,QAAQ,CAAE,EAAzB,CAAjE,CAA5C,4CAAQH,QAAR,iBAAkBI,WAAlB,iBACA,cAA0CV,QAAQ,CAAC,IAAD,CAAlD,wCAAQW,YAAR,eAAsBC,eAAtB,eAEA,GAAMC,QAAO,4FAAG,2KAIAR,MAAK,CAACC,QAAQ,CAACE,QAAV,CAAoBF,QAAQ,CAACG,QAA7B,CAJL,QAKNL,QAAQ,CAAC,UAAD,CAAR,CALM,8EASNQ,eAAe,aAAf,CATM,mEAAH,kBAAPC,QAAO,0CAAb,CAeA,mBACK,aAAK,SAAS,CAAC,MAAf,wBACK,kCADL,cAEK,aAAK,SAAS,CAAC,QAAf,wBACK,YAAK,SAAS,CAAC,OAAf,uBACK,cAAO,KAAK,CAAEP,QAAQ,CAACE,QAAvB,CAAiC,QAAQ,CAAE,kBAACM,CAAD,QAAOJ,YAAW,CAAC,CAACF,QAAQ,CAAEM,CAAC,CAACC,MAAF,CAASC,KAApB,CAAD,CAAlB,EAA3C,CAA4F,IAAI,CAAC,MAAjG,EADL,EADL,cAIK,YAAK,SAAS,CAAC,OAAf,uBACK,cAAO,KAAK,CAAEV,QAAQ,CAACG,QAAvB,CAAiC,QAAQ,CAAE,kBAACK,CAAD,QAAOJ,YAAW,CAAC,CAACD,QAAQ,CAAEK,CAAC,CAACC,MAAF,CAASC,KAApB,CAAD,CAAlB,EAA3C,CAA4F,IAAI,CAAC,UAAjG,EADL,EAJL,cAOK,YAAK,SAAS,CAAC,QAAf,uBACK,eAAQ,OAAO,CAAEH,OAAjB,oBADL,EAPL,CAUMF,YAAY,cACb,YAAK,SAAS,CAAC,OAAf,UAAwBA,YAAxB,EADa,CAEX,IAZP,GAFL,GADL,CAmBJ,CAzCM"},"metadata":{},"sourceType":"module"}